@model Zombiecalypse.Models.ZombieAttackBaseVM

@{
    ViewBag.Title = "ZombieAttackBase";
}

<h2>ZombieAttackBase</h2>

<div>
    <h4>ZombieAttackBase</h4>
    <hr />
    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.CharacterID)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ZombieAttackBase.CharacterID)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.Character.CharacterName)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ZombieAttackBase.Character.CharacterName)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.ZombieAttackStart)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ZombieAttackBase.ZombieAttackStart)
        </dd>
        <br />
        <br />
        You are attacked by:
        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.Zombie.ZombiePicture)
        </dt>

        <dd>
            <img src=@Model.ZombieAttackBase.Zombie.ZombiePicture />
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.Zombie.ZombieName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ZombieAttackBase.Zombie.ZombieName)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.ZombieLife)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ZombieAttackBase.ZombieLife)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.Zombie.ZombieDamage)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ZombieAttackBase.Zombie.ZombieDamage)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.Zombie.RewardCoins)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ZombieAttackBase.Zombie.RewardCoins)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ZombieAttackBase.Zombie.RewardXP)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ZombieAttackBase.Zombie.RewardXP)
        </dd>



        <dd>
            @foreach (var inv in Model.ZombieAttackBase.Character.Inventory)
            {
                if (@inv.ItemID == 59)
                {
                    <table class="table">
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Damage</th>
                            <th>ItemPieces</th>
                            <th>ItemMaxDurability</th>
                            <th>ItemCurrentDurability</th>
                            <th>Picture</th>
                        </tr>
                        <tr>
                            <td>@Model.ZombieAttackBase.Weapon.ItemID</td>
                            <td>@Model.ZombieAttackBase.Weapon.ItemName</td>
                            <td>@Model.ZombieAttackBase.Weapon.WeaponDamage</td>
                            <td>@Model.ZombieAttackBase.Weapon.ItemMaxDurability</td>
                            <td>@Model.ZombieAttackBase.Weapon.ItemID</td>
                            <td>
                                @Html.ActionLink("Attack with " + @Model.ZombieAttackBase.Weapon.ItemName, "BaseDefenseFromZombie", new { ZabID = @Model.ZombieAttackBase.ZombieAttackBaseID, AttackPower = @Model.ZombieAttackBase.Weapon.WeaponDamage, InvID = @inv.InventoryID }, new { @class = "ActionLinkButton" })
                            </td>
                        </tr>

                    </table>
                }
            }
        </dd>

        <h4>Items</h4>
        <dd>
            <table class="table">
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Damage</th>
                    <th>ItemPieces</th>
                    <th>ItemMaxDurability</th>
                    <th>ItemCurrentDurability</th>
                    <th>Picture</th>
                </tr>
                @foreach (var weap in Model.ZombieAttackBase.BuyableWeapons)
                {
                    foreach (var inv in Model.ZombieAttackBase.Character.Inventory)
                    {
                        if (@inv.ItemID == @weap.ItemID && @inv.ItemPieces > 0)
                        {
                            <tr>
                                <td>
                                    @weap.ItemID
                                </td>
                                <td>
                                    @weap.ItemName
                                </td>
                                <td>
                                    @weap.WeaponDamage
                                </td>
                                <td>
                                    @inv.ItemPieces
                                </td>
                                <td>
                                    @if (inv.ItemMaxDurability == 999)
                                    {
                                        <html>
                                        &#8734
                                    </html>
                                    }
                                    else
                                    {
                                        @inv.ItemMaxDurability
                                    }
                                </td>
                                <td>
                                    @if (inv.ItemCurrentDurability == 999)
                                    {
                                        <html>
                                        &#8734
                                    </html>
                                    }
                                    else
                                    {
                                        @inv.ItemCurrentDurability
                                    }

                                </td>
                                <td>
                                    <img src=@weap.ItemPicture />
                                </td>
                                <td>
                                    @Html.ActionLink("Attack with " + @weap.ItemName, "BaseDefenseFromZombie", new { ZabID = @Model.ZombieAttackBase.ZombieAttackBaseID, AttackPower = @weap.WeaponDamage, InvID = @inv.InventoryID }, new { @class = "ActionLinkButton" })
                                </td>
                            </tr>
                        }
                    }
                }


            </table>
        </dd>

        <dd>
            <table class="table">
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Damage</th>
                    <th>ItemPieces</th>
                    <th>ItemMaxDurability</th>
                    <th>ItemCurrentDurability</th>
                    <th>Picture</th>
                </tr>
                @foreach (var weap in Model.ZombieAttackBase.CraftableWeapons)
                {
                    foreach (var inv in Model.ZombieAttackBase.Character.Inventory)
                    {
                        if (@inv.ItemID == @weap.ItemID && @inv.ItemPieces > 0)
                        {
                            <tr>
                                <td>
                                    @weap.ItemID
                                </td>
                                <td>
                                    @weap.ItemName
                                </td>
                                <td>
                                    @weap.WeaponDamage
                                </td>
                                <td>
                                    @inv.ItemPieces
                                </td>
                                <td>
                                    @if (inv.ItemMaxDurability == 999)
                                    {
                                        <html>
                                        &#8734
                                    </html>
                                    }
                                    else
                                    {
                                        @inv.ItemMaxDurability
                                    }
                                </td>
                                <td>
                                    @if (inv.ItemCurrentDurability == 999)
                                    {
                                        <html>
                                        &#8734
                                    </html>
                                    }
                                    else
                                    {
                                        @inv.ItemCurrentDurability
                                    }

                                </td>
                                <td>
                                    <img src=@weap.ItemPicture />
                                </td>
                                <td>
                                    @Html.ActionLink("Attack with " + @weap.ItemName, "BaseDefenseFromZombie", new { ZabID = @Model.ZombieAttackBase.ZombieAttackBaseID, AttackPower = @weap.WeaponDamage, InvID = @inv.InventoryID }, new { @class = "ActionLinkButton" })
                                </td>
                            </tr>
                        }
                    }
                }

            </table>
        </dd>

        <br />


        <button onclick="startCountDown()">Start</button></br>

        counter:
        <span id="demo"></span></br>
        now:
        <span id="demo2"></span></br>
        until:
        <span id="demo3"></span></br>


        @*  <script>
                var Year = @Model.ZombieAttackStart.Year;
                var Month = @Model.ZombieAttackStart.Month;
                var Day = @Model.ZombieAttackStart.Day;
                var Hour = @Model.ZombieAttackStart.Hour;
                var Minute = @Model.ZombieAttackStart.Minute;
                var Second = @Model.ZombieAttackStart.AddSeconds(5).Second;

                var ChId = @Model.CharacterID;
                var ZombId = 1;
                var zabID = @Model.ZombieAttackBaseID;
                var FinishDate =  new Date(Year, Month-1, Day, Hour, Minute, Second, 0);

            </script>
            <script src="~/Scripts/app/zombieBaseAttack.js" type="text/javascript"></script>*@
    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = @Model.ZombieAttackBase.CharacterID }) |
    @Html.ActionLink("Back to List", "Index")
</p>